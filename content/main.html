{% extends "index.html" %}

{% block content %}

<section class="homepage">

{% set latest_article = articles|first %}
{% set latest_project = [ 'DiMo', '/projects/dimo' ] %}

<h1>{{ SITENAME }}</h1>

<p>The most recent article is <a href="{{ latest_article.url }}">{{ latest_article.title }}</a>.</p>

<p><a href="/posts">All posts</a>.</p>

<p>My most recent project is an interactive art exhibit called <a href="{{ latest_project[1] }}">{{ latest_project[0] }}</a>.</p>

<p><a href="/projects">All projects</a>.</p>

    <div class="pbp-barchart">

        <div class="pbp-barchart-labels">
            {%- for tag, articles in tags|sort %}
            <a href="{{ tag.url }}">
                <span class="pbp-barchart-bar">{{ tag }}</span>
            </a>
            {% endfor %}
        </div>

        <div class="pbp-barchart-values">
            {%- for tag, articles in tags|sort %}
            <a href="{{ tag.url }}">
                <span class="pbp-barchart-bar" style="width:{{ 100 * articles|count / tags|count }}%"></span>
            </a>
            {% endfor %}
        </div>

    </div>

    <a class="pbp-home-col-link" href="/posts" title="my blog posts">
        my posts
    </a>
    <a class="pbp-home-col-link" href="/projects" title="my programming projects">
        my projects
    </a>

</section>

{% endblock content %}
